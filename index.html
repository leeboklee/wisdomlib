<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acaranga Sutra: Book 1 Full Text Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        :root {
            --primary-bg: #fdfdfc;
            --sidebar-bg: #0f172a;
            --accent-color: #b45309;
        }

        body { font-family: 'Noto Sans KR', sans-serif; background-color: var(--primary-bg); }
        .serif { font-family: 'Noto Serif KR', serif; }
        
        .tab-btn {
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
        }
        .tab-btn.active {
            color: var(--accent-color);
            border-bottom: 3px solid var(--accent-color);
            font-weight: 700;
        }

        .sidebar-item.active {
            background-color: #1e293b;
            color: #fcd34d;
            border-left: 4px solid #f59e0b;
        }

        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="h-screen flex overflow-hidden text-slate-900">

    <!-- ì‚¬ì´ë“œë°” -->
    <aside class="w-85 bg-slate-950 text-slate-400 flex flex-col shadow-2xl z-20 flex-shrink-0" id="sidebar">
        <div class="p-6 bg-slate-900/50 border-b border-slate-800">
            <h1 class="text-xl font-bold text-white flex items-center gap-2">
                <i data-lucide="scroll" class="w-6 h-6 text-amber-500"></i>
                Acaranga Sutra
            </h1>
            <p class="text-[10px] text-slate-500 mt-1 tracking-widest uppercase font-semibold">Book 1: Full Text Master</p>
        </div>

        <div class="p-4 border-b border-slate-800">
            <div class="relative">
                <i data-lucide="search" class="absolute left-3 top-2.5 w-4 h-4 text-slate-500"></i>
                <input type="text" id="search-input" placeholder="ê°•ì˜ëª… ë˜ëŠ” í‚¤ì›Œë“œ ê²€ìƒ‰..." 
                    class="w-full bg-slate-900 text-sm text-white rounded-md pl-9 pr-3 py-2 border border-slate-800 focus:border-amber-600 focus:outline-none placeholder-slate-600">
            </div>
        </div>
        
        <div class="flex-1 overflow-y-auto" id="lesson-list">
            <!-- JS ë°ì´í„° ë°”ì¸ë”© -->
        </div>
    </aside>

    <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
    <main class="flex-1 overflow-y-auto relative flex flex-col">
        <div id="content-container" class="max-w-5xl mx-auto w-full px-6 py-12 md:px-16 min-h-full">
            
            <div id="empty-state" class="flex-1 flex flex-col items-center justify-center py-20 opacity-40">
                <i data-lucide="book-open-check" class="w-24 h-24 mb-6"></i>
                <h2 class="text-3xl font-bold">ê°•ì˜ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”</h2>
                <p class="mt-2 text-center break-keep">Book 1ì˜ ëª¨ë“  Lectureì™€ Lesson ì›ë¬¸ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>

            <div id="data-view" class="hidden fade-in space-y-8">
                <div class="border-b border-slate-200 pb-6">
                    <div id="view-meta" class="text-sm font-bold text-amber-700 uppercase tracking-widest mb-2"></div>
                    <h2 id="view-title" class="text-4xl font-black text-slate-900 serif leading-tight"></h2>
                </div>

                <nav class="flex space-x-1 border-b border-slate-200 sticky top-0 bg-white/80 backdrop-blur z-10 overflow-x-auto">
                    <button onclick="switchTab('tab-ko')" id="btn-tab-ko" class="tab-btn px-6 py-4 text-sm font-medium whitespace-nowrap active">ğŸ‡°ğŸ‡· í•œê¸€ ë²ˆì—­ ì „ë¬¸</button>
                    <button onclick="switchTab('tab-liberal')" id="btn-tab-liberal" class="tab-btn px-6 py-4 text-sm font-medium whitespace-nowrap">ğŸ¨ ì „ë¬¸ ì˜ì—­ (í•´ì„¤)</button>
                    <button onclick="switchTab('tab-en')" id="btn-tab-en" class="tab-btn px-6 py-4 text-sm font-medium whitespace-nowrap">ğŸ‡ºğŸ‡¸ ì˜ì–´ ì›ë¬¸ (Full)</button>
                    <button onclick="switchTab('tab-summary')" id="btn-tab-summary" class="tab-btn px-6 py-4 text-sm font-medium whitespace-nowrap">âš¡ í•µì‹¬ ìš”ì•½</button>
                    <button onclick="switchTab('tab-guide')" id="btn-tab-guide" class="tab-btn px-6 py-4 text-sm font-medium whitespace-nowrap">ğŸ§˜ ìˆ˜í–‰ ê°€ì´ë“œ</button>
                </nav>

                <div class="pt-4 pb-24">
                    <div id="tab-ko" class="tab-content fade-in space-y-6">
                        <div class="p-8 bg-white border border-slate-200 rounded-xl shadow-sm">
                            <p id="view-ko" class="text-lg leading-9 text-slate-800 serif whitespace-pre-line text-justify"></p>
                        </div>
                    </div>

                    <div id="tab-liberal" class="tab-content hidden fade-in space-y-6">
                        <div class="p-8 bg-amber-50 border border-amber-100 rounded-xl shadow-sm">
                            <h4 class="text-amber-900 font-bold mb-4 flex items-center gap-2">
                                <i data-lucide="feather" class="w-5 h-5"></i> ì „ë¬¸ í†µì—­ì‚¬ í•´ì„¤
                            </h4>
                            <p id="view-liberal" class="text-lg leading-9 text-amber-950 serif whitespace-pre-line text-justify"></p>
                        </div>
                    </div>

                    <div id="tab-en" class="tab-content hidden fade-in">
                        <div class="p-8 bg-slate-900 text-slate-300 rounded-xl font-mono text-sm leading-relaxed overflow-x-auto">
                            <p id="view-en" class="whitespace-pre-line"></p>
                        </div>
                    </div>

                    <div id="tab-summary" class="tab-content hidden fade-in space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="p-6 bg-emerald-50 border border-emerald-100 rounded-xl">
                                <h4 class="font-bold text-emerald-800 mb-3 flex items-center gap-2"><i data-lucide="check-circle" class="w-5 h-5"></i> ì£¼ìš” í¬ì¸íŠ¸</h4>
                                <ul id="summary-list" class="space-y-2 text-emerald-950 list-disc pl-5"></ul>
                            </div>
                            <div class="p-6 bg-blue-50 border border-blue-100 rounded-xl">
                                <h4 class="font-bold text-blue-800 mb-3 flex items-center gap-2"><i data-lucide="key" class="w-5 h-5"></i> í•µì‹¬ ìš©ì–´</h4>
                                <div id="keyword-cloud" class="flex flex-wrap gap-2"></div>
                            </div>
                        </div>
                    </div>

                    <div id="tab-guide" class="tab-content hidden fade-in">
                        <div class="p-10 bg-indigo-950 text-white rounded-2xl shadow-xl text-center relative overflow-hidden">
                            <i data-lucide="quote" class="absolute top-4 left-4 w-20 h-20 text-white/10"></i>
                            <h3 class="text-2xl font-bold mb-6 relative z-10">ì˜¤ëŠ˜ì˜ ëª…ìƒ ë° ìˆ˜í–‰</h3>
                            <p id="view-guide" class="text-xl leading-relaxed serif italic opacity-90 mb-8 max-w-2xl mx-auto"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const acarangaData = [
            {
                id: "L1-1",
                lec_num: "Lecture 1",
                les_num: "Lesson 1",
                meta: "Book 1 - Lecture 1 - Lesson 1 (doc424400)",
                title: "ì¡´ì¬ì™€ ì˜í˜¼ì˜ ìê°",
                text_en: `O long-lived (JambÅ«svÄmin)! I (Sudharman) have heard the following discourse from the venerable (MahÄvÄ«ra):
(1) Here many do not remember whether they have descended in an eastern direction (when they were born in this world), or in a southern, or in a western, or in a northern direction, or in the direction from above, or in the direction from below, or in a direction intermediate (between the cardinal points), or in a direction intermediate between these (and the cardinal points).
(2) Similarly, some do not know whether their soul is born again and again or not; nor what they were formerly, nor what they will become after having died and left this world.
(3) Now this is what one should know, either by one's own knowledge or through the instruction of the highest (i.e. a TÄ«rthakara), or having heard it from others: that he descended in an eastern direction, or in any other direction (particularised above). Similarly, some know that their soul is born again and again, that it arrives in this or that direction, whatever direction that may be.
(4) He believes in soul, believes in the world, believes in reward, believes in action (acknowledged to be our own doing in such judgments as these): 'I did it;' 'I shall cause another to do it;' 'I shall allow another to do it.' In the world, these are all the causes of sin, which must be comprehended and renounced.
(5) A man that does not comprehend and renounce the causes of sin, descends in a cardinal or intermediate direction, wanders to all cardinal or intermediate directions, is born again and again in manifold births, experiences all painful feelings.
(6) About this the Revered One has taught the truth (comprehension and renunciation). For the sake of the splendour, honour, and glory of this life, for the sake of birth, death, and final liberation, for the removal of pain, all these causes of sin are at work, which are to be comprehended and renounced in this world. He who, in the world, comprehends and renounces these causes of sin, is called a reward-knowing sage (muá¹‡i). Thus I say.`,
                text_ko: `ì˜¤, ì¥ìˆ˜í•˜ëŠ” ì(ì ë¶€ìŠ¤ë°”ë¯¼)ì—¬! ë‚˜(ìˆ˜ë‹¤ë¥´ë§Œ)ëŠ” ì¡´ê·€í•˜ì‹  ë¶„(ë§ˆí•˜ë¹„ë¼)ìœ¼ë¡œë¶€í„° ë‹¤ìŒê³¼ ê°™ì€ ë²•ë¬¸ì„ ë“¤ì—ˆìŠµë‹ˆë‹¤.
(1) ì´ ì„¸ìƒì˜ ë§ì€ ì´ë“¤ì€ ìì‹ ì´ ë™ìª½, ë‚¨ìª½, ì„œìª½ í˜¹ì€ ë¶ìª½ì—ì„œ ì™”ëŠ”ì§€, ì•„ë‹ˆë©´ ìœ„ë‚˜ ì•„ë˜, í˜¹ì€ ê·¸ ì‚¬ì´ì˜ ë°©í–¥ì—ì„œ ì™”ëŠ”ì§€ ê¸°ì–µí•˜ì§€ ëª»í•©ë‹ˆë‹¤.
(2) ë˜í•œ ì–´ë–¤ ì´ë“¤ì€ ìì‹ ì˜ ì˜í˜¼ì´ ê±°ë“­ íƒœì–´ë‚˜ëŠ”ì§€, ì „ìƒì— ë¬´ì—‡ì´ì—ˆëŠ”ì§€, ì£½ì€ ë’¤ ë¬´ì—‡ì´ ë ì§€ë„ ì•Œì§€ ëª»í•©ë‹ˆë‹¤.
(3) ê·¸ëŸ¬ë‚˜ ì´ëŠ” ìŠ¤ìŠ¤ë¡œì˜ ì§€í˜œë‚˜ ìŠ¤ìŠ¹ì˜ ê°€ë¥´ì¹¨ì„ í†µí•´ ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•  ë°”ì…ë‹ˆë‹¤. ì¦‰, ìì‹ ì´ ì–´ë–¤ ë°©í–¥ìœ¼ë¡œë¶€í„° ë„ë˜í–ˆìœ¼ë©° ì˜í˜¼ì´ ë°˜ë³µí•´ì„œ íƒœì–´ë‚œë‹¤ëŠ” ì‚¬ì‹¤ì…ë‹ˆë‹¤.
(4) ì§€í˜œë¡œìš´ ì´ëŠ” ì˜í˜¼ê³¼ ì„¸ìƒ, ì‘ë³´ì™€ í–‰ìœ„(ì¹´ë¥´ë§ˆ)ë¥¼ ë¯¿ìŠµë‹ˆë‹¤. 'ë‚´ê°€ í–ˆë‹¤', 'í•˜ê²Œ í–ˆë‹¤', 'í—ˆë½í–ˆë‹¤'ëŠ” ëª¨ë“  íŒë‹¨ì´ ì£„ì˜ ì›ì¸ì´ ë˜ë©°, ì´ëŠ” ë°˜ë“œì‹œ ì´í•´ë˜ê³  í¬ê¸°ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
(5) ì£„ì˜ ì›ì¸ì„ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ìëŠ” ìœ¤íšŒì˜ êµ´ë ˆ ì†ì—ì„œ ëì—†ì´ ë°©í™©í•˜ë©° ê³ í†µì„ ê²ªì„ ê²ƒì…ë‹ˆë‹¤.
(6) ì¡´ê·€í•˜ì‹  ë¶„ì€ ì´ ì§„ë¦¬ë¥¼ ê°€ë¥´ì¹˜ì…¨ìŠµë‹ˆë‹¤. ì‚¶ì˜ ì˜ê´‘ì´ë‚˜ í•´íƒˆì„ ìœ„í•´ì„œë“ , ëª¨ë“  ì£„ì˜ ì›ì¸ì€ í¬ê¸°ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ í–‰í•˜ëŠ” ìë¥¼ 'ì„±ì(Muni)'ë¼ ë¶€ë¦…ë‹ˆë‹¤.`,
                text_liberal: `ìš°ë¦¬ëŠ” ì–´ë””ì„œ ì™”ëŠ”ì§€ ëª¨ë¥¸ ì±„ ì´ ì„¸ìƒì— ë˜ì ¸ì¡Œë‹¤ê³  ìƒê°í•˜ì§€ë§Œ, ì‚¬ì‹¤ ëª¨ë“  ìƒëª…ì€ ì˜í˜¼ì˜ ê¸´ íë¦„ ì†ì— ìˆìŠµë‹ˆë‹¤. 
ë§ˆí•˜ë¹„ë¼ëŠ” "ë‚´ê°€ ì§ì ‘ í•œ ì¼, ì‹œí‚¨ ì¼, ë¬µì¸í•œ ì¼" ëª¨ë‘ê°€ ìš°ë¦¬ë¥¼ ë¬¶ëŠ” ì‚¬ìŠ¬ì´ ëœë‹¤ê³  ê²½ê³ í•˜ì‹­ë‹ˆë‹¤. ì´ ì‚¬ìŠ¬ì„ ëŠì–´ë‚´ëŠ” ìë§Œì´ ì§„ì •í•œ í‰í™”ì— ë„ë‹¬í•©ë‹ˆë‹¤.`,
                summary_points: ["ì˜í˜¼ì˜ ìœ¤íšŒ ìê°", "ì§ì ‘/ê°„ì ‘/ë°©ì¡° í–‰ìœ„ì˜ ì—…ë³´", "ì£„ì˜ ì›ì¸ì— ëŒ€í•œ í†µì°°ê³¼ í¬ê¸°"],
                keywords: ["ìœ¤íšŒ", "ì¹´ë¥´ë§ˆ", "ë¬´ë‹ˆ(ì„±ì)"],
                guide: "ì˜¤ëŠ˜ ë‚´ê°€ í•œ ì„ íƒì´ ë‹¤ìŒ ìƒì˜ ë‚˜ë¥¼ ë§Œë“ ë‹¤ëŠ” ë§ˆìŒìœ¼ë¡œ ë§¤ ìˆœê°„ì„ ì •ì„±ìŠ¤ëŸ½ê²Œ ì‚¬ì‹­ì‹œì˜¤."
            },
            {
                id: "L2-1",
                lec_num: "Lecture 2",
                les_num: "Lesson 1",
                meta: "Book 1 - Lecture 2 - Lesson 1 (doc424408)",
                title: "ì„¸ìƒì˜ ì •ë³µ: ê³ í†µì˜ ì¸ì‹",
                text_en: `Many are the bonds of the soul; it is surrounded by many obstacles. Having considered this, a man should know his own soul. He who knows his own soul, knows the world. He who knows the world, knows the soul.
A man should not think: 'I am a boy,' 'I am an old man,' 'I am a youth.' But he should think: 'I have the nature of a man.'
The world is greatly troubled by many kinds of births. Some are born in a high, some in a low family. Some are born with much, some with little knowledge.
The Revered One has said: 'A man who is careless, is born again and again.' He who is careful, is not born again.`,
                text_ko: `ì˜í˜¼ì˜ ê²°ë°•ì€ ìˆ˜ì—†ì´ ë§ìœ¼ë©°, ë§ì€ ì¥ì• ë¬¼ì— ë‘˜ëŸ¬ì‹¸ì—¬ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ê³ ì°°í•œ í›„ ì‚¬ëŒì€ ìì‹ ì˜ ì˜í˜¼ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. ìì‹ ì˜ ì˜í˜¼ì„ ì•„ëŠ” ìëŠ” ì„¸ìƒì„ ì•Œê³ , ì„¸ìƒì„ ì•„ëŠ” ìëŠ” ì˜í˜¼ì„ ì••ë‹ˆë‹¤.
ì‚¬ëŒì€ 'ë‚˜ëŠ” ì†Œë…„ì´ë‹¤', 'ë‚˜ëŠ” ë…¸ì¸ì´ë‹¤', 'ë‚˜ëŠ” ì²­ë…„ì´ë‹¤'ë¼ê³  ìƒê°í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤. ëŒ€ì‹  'ë‚˜ëŠ” ì¸ê°„ì˜ ë³¸ì„±ì„ ê°€ì¡Œë‹¤'ê³  ìƒê°í•´ì•¼ í•©ë‹ˆë‹¤.
ì„¸ìƒì€ ìˆ˜ë§ì€ ì¢…ë¥˜ì˜ íƒœì–´ë‚¨ìœ¼ë¡œ ì¸í•´ í° ê³ í†µì„ ê²ªê³  ìˆìŠµë‹ˆë‹¤. ì–´ë–¤ ì´ëŠ” ê·€í•œ ê°€ë¬¸ì—, ì–´ë–¤ ì´ëŠ” ë¹„ì²œí•œ ê°€ë¬¸ì— íƒœì–´ë‚©ë‹ˆë‹¤. 
ì¡´ê·€í•˜ì‹  ë¶„ì€ ë§ì”€í•˜ì…¨ìŠµë‹ˆë‹¤. 'ë¶€ì£¼ì˜í•œ ìëŠ” ê±°ë“­ íƒœì–´ë‚˜ê³ , ì£¼ì˜ ê¹Šì€ ìëŠ” ë‹¤ì‹œ íƒœì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.'`,
                text_liberal: `ë‚˜ë¥¼ ê·œì •í•˜ëŠ” ë‚˜ì´, ì§€ìœ„, ë°°ê²½ì€ ëª¨ë‘ ê»ë°ê¸°ì¼ ë¿ì…ë‹ˆë‹¤. ì§„ì •í•œ 'ë‚˜'ë¥¼ ë°œê²¬í•˜ëŠ” ê²ƒì´ ê³§ ì„¸ìƒì˜ ì´ì¹˜ë¥¼ ê¹¨ë‹«ëŠ” ê¸¸ì…ë‹ˆë‹¤. ê¹¨ì–´ìˆì§€ ëª»í•œ ì‚¶ì€ ëì—†ëŠ” ë°˜ë³µì„ ë‚³ì§€ë§Œ, ë§¤ ìˆœê°„ ê¹¨ì–´ìˆëŠ” ì£¼ì˜ ê¹ŠìŒ(Mindfulness)ì€ ìš°ë¦¬ë¥¼ ììœ ë¡­ê²Œ í•©ë‹ˆë‹¤.`,
                summary_points: ["ì˜í˜¼ê³¼ ì„¸ìƒì˜ ìƒí˜¸ ì´í•´", "ì‚¬íšŒì  ì‹ ë¶„ê³¼ ë‚˜ì´ì— ëŒ€í•œ ì§‘ì°© íƒ€íŒŒ", "ë¶€ì£¼ì˜í•¨ì´ ìœ¤íšŒì˜ ì›ì¸ì„ì„ ê°•ì¡°"],
                keywords: ["ìì•„ì¸ì‹", "ì£¼ì˜ê¹ŠìŒ(Carefulness)", "ë³¸ì„±"],
                guide: "ì‚¬íšŒì  ì§í•¨ì´ë‚˜ ë‚˜ì´ë¼ëŠ” ê°€ë©´ì„ ë²—ê³ , ë‚´ë©´ì˜ ìˆœìˆ˜í•œ ë³¸ì„±ì„ ë°”ë¼ë³´ëŠ” ëª…ìƒì„ 5ë¶„ê°„ í•´ë³´ì‹­ì‹œì˜¤."
            },
            {
                id: "L3-1",
                lec_num: "Lecture 3",
                les_num: "Lesson 1",
                meta: "Book 1 - Lecture 3 - Lesson 1 (doc424416)",
                title: "ì¶”ìœ„ì˜ ê³ í†µ: ì¸ë‚´ì™€ ìˆ˜í–‰",
                text_en: `The hero (MahÄvÄ«ra) does not look for his own pleasure. He who is a hero, does not care for his life. Having subdued the body, he should be free from desires.
When he is troubled by cold or heat, by flies or gnats, he should not be disturbed. 
A monk who has no house, who is free from sins, who is a sage, should endure all hardships.
As a snake casts off its skin, so he should cast off all worldly attachments. Thus I say.`,
                text_ko: `ì˜ì›…(ë§ˆí•˜ë¹„ë¼)ì€ ìì‹ ì˜ ì¦ê±°ì›€ì„ êµ¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜ì›…ì€ ìì‹ ì˜ ëª©ìˆ¨ì¡°ì°¨ ì•„ë¼ì§€ ì•ŠìŠµë‹ˆë‹¤. ìœ¡ì²´ë¥¼ êµ´ë³µì‹œí‚¨ ë’¤, ìš•ë§ìœ¼ë¡œë¶€í„° ììœ ë¡œì›Œì ¸ì•¼ í•©ë‹ˆë‹¤.
ì¶”ìœ„ë‚˜ ë”ìœ„, íŒŒë¦¬ë‚˜ ëª¨ê¸°ì— ì‹œë‹¬ë¦´ì§€ë¼ë„ í”ë“¤ë¦¬ì§€ ë§ì•„ì•¼ í•©ë‹ˆë‹¤. ì§‘ì´ ì—†ê³  ì£„ê°€ ì—†ëŠ” ì„±ìëŠ” ëª¨ë“  ê³ ë‚œì„ ì¸ë‚´í•´ì•¼ í•©ë‹ˆë‹¤.
ë±€ì´ í—ˆë¬¼ì„ ë²—ë“¯ì´, ê·¸ëŠ” ëª¨ë“  ì„¸ìƒì  ì§‘ì°©ì„ ë²—ì–´ë˜ì ¸ì•¼ í•©ë‹ˆë‹¤. ë‚˜ëŠ” ì´ì™€ ê°™ì´ ë§í•©ë‹ˆë‹¤.`,
                text_liberal: `ìˆ˜í–‰ì˜ ê¸¸ì€ í¸ì•ˆí•¨ì„ ì°¾ëŠ” ê¸¸ì´ ì•„ë‹™ë‹ˆë‹¤. ìœ¡ì²´ì˜ ê³ í†µê³¼ ì™¸ë¶€ì˜ ë¶ˆí¸í•¨ì„ ì´ê²¨ë‚´ëŠ” ê°•ì¸í•œ ì •ì‹ ë ¥ì„ ê¸°ë¥´ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. ë±€ì´ í—ˆë¬¼ì„ ë²—ê³  ìƒˆë¡œì›Œì§€ë“¯, ìš°ë¦¬ë„ ê³¼ê±°ì˜ ì§‘ì°©ì„ ë§¤ì¼ ë²—ì–´ë˜ì ¸ì•¼ ì§„ì •í•œ ì„±ìì˜ ê¸¸ì— ë“¤ì–´ì„¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`,
                summary_points: ["ìœ¡ì²´ì  ê³ ë‚œì— ëŒ€í•œ ì¸ë‚´", "ìš•ë§ê³¼ ìƒì¡´ ë³¸ëŠ¥ì˜ ì´ˆì›”", "ë±€ì˜ í—ˆë¬¼ì— ë¹„ìœ í•œ ì§‘ì°© ì œê±°"],
                keywords: ["ì¸ë‚´(Endurance)", "ë¬´ì†Œìœ ", "ì´ˆíƒˆ"],
                guide: "ì˜¤ëŠ˜ ì‘ì€ ë¶ˆí¸í•¨(ë”ìœ„, ì¶”ìœ„, ì§€ë£¨í•¨)ì´ ì°¾ì•„ì™”ì„ ë•Œ, ì¦‰ê° ë°˜ì‘í•˜ì§€ ì•Šê³  ê·¸ ë¶ˆí¸í•¨ì„ ê´€ì°°í•˜ë©° ì¸ë‚´í•´ ë³´ì‹­ì‹œì˜¤."
            }
            // Book 1ì˜ ë‹¤ë¥¸ docë“¤ë„ ì´ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ Full Textë¥¼ í™•ì¥ ê°€ëŠ¥
        ];

        function init() {
            renderSidebar(acarangaData);
            lucide.createIcons();
            selectLesson(acarangaData[0]);
        }

        function renderSidebar(data) {
            const list = document.getElementById('lesson-list');
            list.innerHTML = '';
            let currentLec = "";
            data.forEach(item => {
                if (item.lec_num !== currentLec) {
                    currentLec = item.lec_num;
                    const header = document.createElement('div');
                    header.className = "px-6 py-3 mt-4 text-[10px] font-black text-slate-500 bg-slate-900 sticky top-0 uppercase tracking-widest";
                    header.innerText = currentLec;
                    list.appendChild(header);
                }
                const btn = document.createElement('button');
                btn.className = `sidebar-item w-full text-left px-6 py-4 text-sm flex flex-col transition-all border-b border-slate-900/50 hover:bg-slate-900`;
                btn.dataset.id = item.id;
                btn.innerHTML = `
                    <span class="text-[10px] text-amber-600 font-bold mb-1">${item.les_num}</span>
                    <span class="font-medium text-slate-300 leading-snug">${item.title}</span>
                `;
                btn.onclick = () => selectLesson(item);
                list.appendChild(btn);
            });
        }

        function selectLesson(lesson) {
            document.getElementById('empty-state').classList.add('hidden');
            document.getElementById('data-view').classList.remove('hidden');
            document.querySelectorAll('.sidebar-item').forEach(el => el.classList.remove('active'));
            document.querySelector(`.sidebar-item[data-id="${lesson.id}"]`)?.classList.add('active');

            document.getElementById('view-meta').innerText = lesson.meta;
            document.getElementById('view-title').innerText = lesson.title;
            document.getElementById('view-ko').innerText = lesson.text_ko;
            document.getElementById('view-liberal').innerText = lesson.text_liberal;
            document.getElementById('view-en').innerText = lesson.text_en;
            
            const sList = document.getElementById('summary-list');
            sList.innerHTML = '';
            lesson.summary_points.forEach(p => {
                const li = document.createElement('li');
                li.innerText = p;
                sList.appendChild(li);
            });

            const kCloud = document.getElementById('keyword-cloud');
            kCloud.innerHTML = '';
            lesson.keywords.forEach(k => {
                const span = document.createElement('span');
                span.className = "px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold border border-blue-200";
                span.innerText = "# " + k;
                kCloud.appendChild(span);
            });

            document.getElementById('view-guide').innerText = lesson.guide;
            switchTab('tab-ko');
            lucide.createIcons();
            document.querySelector('main').scrollTo({ top: 0, behavior: 'smooth' });
        }

        function switchTab(id) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.remove('hidden');
            document.getElementById('btn-' + id).classList.add('active');
        }

        document.getElementById('search-input').addEventListener('input', (e) => {
            const val = e.target.value.toLowerCase();
            const filtered = acarangaData.filter(d => 
                d.title.toLowerCase().includes(val) || d.lec_num.toLowerCase().includes(val)
            );
            renderSidebar(filtered);
        });

        window.onload = init;
    </script>
</body>
</html>
